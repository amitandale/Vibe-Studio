# Example Supabase lane environment configuration.
#
# Copy this file to ops/supabase/lanes/<lane>.env on the deployment runner
# and replace all placeholder values with lane-specific settings. Secrets that
# must not be committed to source control can still live in this file on the
# runner because it is ignored by git. Credentials shared across lanes (such as
# database passwords) are also duplicated in ops/supabase/lanes/credentials.env.

COMPOSE_PROJECT_NAME=supa-example
LANE=example
VOL_NS=example
ENV_FILE=ops/supabase/lanes/example.env

# Postgres connection values used by Supabase services and host tooling.
PGHOST=127.0.0.1
PGPORT=5432
PGHOST_PORT=5432
PGDATABASE=postgres
PGUSER=postgres
PGPASSWORD=super-secret-postgres-password
SUPABASE_SUPER_ROLE=supabase_admin
SUPABASE_SUPER_PASSWORD=super-secret-superuser-password

# Container-side Postgres environment expected by the official Supabase compose file.
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_PASSWORD=super-secret-postgres-password
PG_META_CRYPTO_KEY=replace-with-hex-64
PGRST_DB_SCHEMAS=public,storage,graphql_public
FUNCTIONS_VERIFY_JWT=true

# Auth + JWT configuration.
JWT_SECRET=replace-with-strong-jwt-secret
ANON_KEY=replace-with-anon-key
SERVICE_ROLE_KEY=replace-with-service-role-key
SUPABASE_ANON_KEY=replace-with-anon-key
SUPABASE_SERVICE_KEY=replace-with-service-role-key
JWT_EXPIRY=3600

# Networking and runtime configuration.
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
EDGE_PORT=9000
EDGE_ENV_FILE=/etc/supabase/edge-example.env

SITE_URL=http://127.0.0.1:8000
SUPABASE_PUBLIC_URL=http://127.0.0.1:8000
SUPABASE_URL=http://127.0.0.1:8000
API_EXTERNAL_URL=http://127.0.0.1:8000
DOCKER_SOCKET_LOCATION=/var/run/docker.sock

# Observability and encryption.
LOGFLARE_PUBLIC_ACCESS_TOKEN=logflare-public-example
LOGFLARE_PRIVATE_ACCESS_TOKEN=logflare-private-example
VAULT_ENC_KEY=replace-with-hex-64
SECRET_KEY_BASE=replace-with-hex-128

# Connection pooler defaults.
POOLER_TENANT_ID=default
POOLER_MAX_CLIENT_CONN=200
POOLER_DB_POOL_SIZE=20
POOLER_DEFAULT_POOL_SIZE=20
POOLER_PROXY_PORT_TRANSACTION=6432

# SMTP and mailer configuration used by GoTrue.
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=supabase
SMTP_PASS=supabase
SMTP_ADMIN_EMAIL=admin@example.supabase.local
SMTP_SENDER_NAME=Supabase Example
MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify
MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
MAILER_URLPATHS_INVITE=/auth/v1/verify
MAILER_URLPATHS_RECOVERY=/auth/v1/verify

# Miscellaneous feature flags.
IMGPROXY_ENABLE_WEBP_DETECTION=true
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
ENABLE_ANONYMOUS_USERS=true
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false
DISABLE_SIGNUP=false
ADDITIONAL_REDIRECT_URLS=http://127.0.0.1:8000

# Supabase Studio defaults.
STUDIO_DEFAULT_ORGANIZATION=Example Supabase Org
STUDIO_DEFAULT_PROJECT=Example Supabase Project
DASHBOARD_USERNAME=admin@example.supabase.local
DASHBOARD_PASSWORD=replace-with-strong-dashboard-password
